-- Tabla para tipos de habitación (ej: Estándar, Suite, Familiar)
create database HABITACIONES;
use HABITACIONES;

CREATE TABLE tipos_habitacion (
    tipo_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre_tipo VARCHAR(50) UNIQUE NOT NULL
);

-- Tabla para tamaños de habitación (ej: Pequeño, Mediano, Grande)
CREATE TABLE tamanos_habitacion (
    tamano_id INT AUTO_INCREMENT PRIMARY KEY,
    nombre_tamano VARCHAR(50) UNIQUE NOT NULL
);

-- Tabla principal de habitaciones
CREATE TABLE habitaciones (
    numero_habitacion INT PRIMARY KEY,
    costo_noche DECIMAL(10,2) NOT NULL CHECK (costo_noche > 0),
    tipo_id INT NOT NULL,
    tamano_id INT NOT NULL,
    capacidad INT NOT NULL CHECK (capacidad > 0),
    informacion_adicional TEXT,
    archivo_adjunto VARCHAR(255),
    fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (tipo_id) REFERENCES tipos_habitacion(tipo_id),
    FOREIGN KEY (tamano_id) REFERENCES tamanos_habitacion(tamano_id)
);

-- Tabla opcional para múltiples archivos adjuntos
CREATE TABLE archivos_adjuntos (
    archivo_id INT AUTO_INCREMENT PRIMARY KEY,
    habitacion_numero INT NOT NULL,
    ruta_archivo VARCHAR(255) NOT NULL,
    fecha_subida TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (habitacion_numero) REFERENCES habitaciones(numero_habitacion)
);